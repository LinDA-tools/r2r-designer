<div ng-controller="CsvContentsCtrl">

  <div ng-show="csv.csvFile().name">
    <p>Content of: <b>{{csv.csvFile().name}}</b></p>
    <input type="checkbox" ng-model="selectAll"></input>
    <label>Select all</label>
  </div>

  <div ng-show="!csv.csvFile().name">
    <p>No file selected!</p>
  </div>

  <div class="scrollable">
    <table class="table">
      <tr>
        <th ng-repeat="column in csv.columns(table)">
          <button type="button" 
                  class="btn btn-primary btn-sm table-btn"
                  ng-class="{active: csv.isSelectedColumn(table, column)}"
                  ng-click="csv.toggleSelectedColumn(table, column)">
              {{column}}
          </button>
        </th>
      </tr>

      <tr ng-repeat="data in csv.data(table)">
        <td ng-repeat="i in data track by $id($index)">
          <div ng-class="{treated: !csv.isSelectedColumn(table, csv.columns(table)[$index])}">
            {{i}}
          </div>
        </td>
      </tr>
    </table>
  </div>
  <hr />
</div>
